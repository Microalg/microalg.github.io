<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Tuto blocs - MicroAlg</title>
    <meta name="description"
          content="Tutoriel en ligne pour MicroAlg." />
    <meta name="keywords" content="microalg, algo, algorithme, algorithmique, lisp, environnement" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="emulisp/emulisp_core.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="web/style.css" />
    <script type="text/javascript" src="web/ide_injections.js"></script>
    <script type="text/javascript" src="web/parenedit.js"></script>
    <link type="text/css" href="web/parenedit.css" rel="stylesheet" />
    <script src="web/showdown.js"></script>
    <script src="web/showup.js"></script>
    <link type="text/css" href="web/showup.css" rel="stylesheet" />
    <script type="text/javascript" src="web/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="web/blockly_microalg.js"></script>
</head>
<body class="microalg">
    <noscript>
        <div style="color:#CC0000; text-align:center">
        Besoin de Javascript pour les exercices interactifs.
        </div>
    </noscript>
    <div class="navbar">
        <a href="./">accueil</a> :
        <a href="#top">haut de page</a>
    </div>
    <h1 id="top">MicroAlg - Tutoriel par blocs</h1>
    <p><a href="#affichage">Commencer tout de suite</a>, sans lire
    l’introduction.</p>
    <p>Aller directement à :
    <a href="#prise-en-main-et-affichage">Prise en main et affichage</a>,
    <a href="#texte-et-concatenation">Texte et concaténation</a>,
    <a href="#demander">Demander à l’utilisateur</a>,
    <a href="#calculs-nombres">Calculs avec des nombres</a>,
    <a href="#calculs-nombres-demandes">Calculs avec des nombres demandés à l’utilisateur</a>,
    <a href="#taper-du-code">Taper du code</a>,
    <a href="#contact">Contact</a>.
    </p>

    <h2 id="autres-tutos">Les autres tutoriels</h2>
    <p>Si vous préférez <strong>ne pas utiliser votre souris</strong> et
    <strong>taper le code</strong> vous-même, vous pouvez plutôt essayer :</p>
    <ul>
        <li>
            <a href="tuto_simple.html">le tutoriel simplifié</a>, rédigé dans
            un <strong>français simplifié</strong> ;
        </li>
        <li>
            <a href="tuto.html">le tutoriel officiel</a>, rédigé dans un
            <strong>français assez soutenu</strong> ;
        </li>
        <li>
            <a href="tuto_rapide.html">le tutoriel rapide</a>, réservé aux
            personnes <strong>connaissant déjà un langage</strong> de
            programmation.
        </li>
    </ul>

    <h2 id="questce">Qu’est-ce ?</h2>
    <p>Cette page est un <a href="https://fr.wikipedia.org/wiki/Tutoriel">tutoriel</a>
    pour <a href="http://microalg.info">MicroAlg</a>, dans lequel on « écrit »
    un programme <i>MicroAlg</i> de <strong>façon visuelle</strong>, en
    disposant des <strong>blocs comme un puzzle</strong> (voir
    <a href="https://fr.wikipedia.org/wiki/Langage_graphique">l’article
    Wikipedia sur la programmation visuelle</a>). C’est aussi une introduction
    douce au code <em>MicroAlg</em> tapé en toutes lettres car, progressivement,
    des liens entre les blocs et le code seront faits.</p>
    <p>Le tutoriel est <strong>assez long</strong> car il couvre tout le
    langage. Patience ! Peut-être qu’il faudra le faire
    <strong>en plusieurs fois</strong> !</p>
    <p>Au cours de ce tutoriel, on vous proposera des petits programmes à
    exécuter directement dans le navigateur. N’hésitez pas à les
    <strong>modifier</strong> afin d’être sûre de comprendre le principe (si
    possible une modification rigolote).</p>
    <p>Avant de les exécuter, essayez de <strong>deviner</strong> ce qu’ils vont
    faire.</p>

    <h2 id="contact">Contact</h2>
    <p>En cas de problème, ne pas hésiter à poser une question dans
    <a href="http://qr.microalg.info">la section Questions/Réponses</a>,
    ou à m’envoyer <a href="mailto:profgra.org@gmail.com">un mail</a>.</p>

    <h2 id="prise-en-main-et-affichage"><a href="#prise-en-main-et-affichage">: </a>Prise en main et affichage</a></h2>
    <p>Dans le bloc <code>Programme</code> de la fenêtre ci-dessous, on a mis
    deux blocs : un bloc <code>Afficher</code> et un bloc de texte
    <code>"..."</code>.</p>
    <div id="script-prise-en-main-blockly" height="200px"></div>
    <div id="script-prise-en-main"></div>
    <script>
    inject_microalg_blockly_in('script-prise-en-main-blockly',
                               'script-prise-en-main-malg-editor',
        '(Afficher "Bonjour tout le monde !")');
    inject_microalg_editor_in('script-prise-en-main', {localStorage: false, hidden: true});
    </script>
    <p>Cliquer sur le bouton <code>OK</code> pour exécuter le programme. Un
    message de bienvenue devrait s’être affiché dans la barre un peu arrondie
    ci-dessus (sinon, ne pas hésiter à poser une question dans
    <a href="http://qr.microalg.info">la section Questions/Réponses</a>,
    ou à m’envoyer <a href="mailto:profgra.org@gmail.com">un mail</a>).</p>
    <p>Le bloc <code>Programme</code> ne peut pas être supprimé, mais vous
    pouvez supprimer les autres, par exemple avec un clic-droit. Essayez !</p>
    <p>Maintenant, retrouvez les blocs <code>Afficher</code> et
    <code>"..."</code> dans les catégories <code>Commandes</code> ou
    <code>Autres</code> pour réécrire le même programme (ou à peu près), puis
    testez-le.</p>

    <h2 id="texte-et-concatenation"><a href="#texte-et-concatenation">: </a>Texte et concaténation</h2>
    <p>Dans un des exemples précédents, pour afficher du texte, nous avons
    attaché au bloc <code>Afficher</code> un bloc de texte. Nous dirons que nous
    avons passé du texte en paramètre à la commande <code>Afficher</code>.</p>
    <p>Mieux : ce que l’on appelle ici « texte » est parfois appelé « chaîne de
    caractères ».</p>
    <p>Supposons maintenant que l’on veuille afficher deux textes.</p>
    <p>Comme le bloc <code>Afficher</code> n’a qu’un branchement, on peut penser
    à utiliser deux instructions. Mais avec cette technique, il est impossible
    d’afficher deux textes différents sans passer à la ligne :</p>
    <div id="script-deux-afficher-blockly"></div>
    <div id="script-deux-afficher"></div>
    <script>inject_microalg_blockly_in('script-deux-afficher-blockly',
                                       'script-deux-afficher-malg-editor',
        '(Afficher "du texte")\n' +
        '(Afficher "et encore du texte")');
    inject_microalg_editor_in('script-deux-afficher', {localStorage: false, hidden: true});
    </script>
    <p>Pour « concaténer » deux textes, c’est-à-dire
    <a href="https://fr.wikipedia.org/wiki/Concat%C3%A9nation">les mettre bout-à-bout</a>,
    on utilise la commande <code>Concatener</code>. Dans l’exemple suivant,
    on affiche la concaténation de deux textes :</p>
    <div id="script-concat-blockly"></div>
    <div id="script-concat"></div>
    <script>
    inject_microalg_blockly_in('script-concat-blockly',
                               'script-concat-malg-editor',
        '(Afficher (Concatener "du texte" "et encore du texte"))');
    inject_microalg_editor_in('script-concat', {localStorage: false, hidden: true});
    </script>
    <p>Rappelez-vous, vous pouvez modifier les programmes de cette page pour
    éventuellement les améliorer !</p>
    <p>Même si en français on dit que le programme « affiche la concaténation
    de deux textes », le programme s’exécute depuis l’intérieur vers
    l’extérieur : le programme concatène d’abord, et affiche ensuite.</p>
    <p>Pour finir la partie « concaténation », notons qu’il n’y a pas de limite
    au nombre de textes à concaténer :</p>
    <div id="script-concat3-blockly"></div>
    <div id="script-concat3"></div>
    <script>
    inject_microalg_blockly_in('script-concat3-blockly',
                               'script-concat3-malg-editor',
        '(Afficher (Concatener\n' +
        '             "du texte, "\n' +
        '             "du texte, "\n' +
        '             "et encore du texte"\n' +
        '))');
    inject_microalg_editor_in('script-concat3', {localStorage: false, hidden: true});
    </script>
    <p>Il suffit de cliquer sur la petite étoile du bloc <code>Concatener</code>
    pour pouvoir choisir combien de textes vont être concaténés, en glissant
    un bloc supplémentaire, ou en supprimant un bloc pour faire apparaître ou
    disparaître des emplacements. Recliquer sur l’étoile quand le compte est
    bon.</p>

    <h2 id="demander"><a href="#demander">: </a>Demander à l’utilisateur</h2>
    <p>Il est possible de demander une valeur à l’utilisateur, pour ensuite
    l’afficher :</p>
    <div id="afficher-demander-blockly"></div>
    <div id="afficher-demander"></div>
    <script>
    inject_microalg_blockly_in('afficher-demander-blockly',
                               'afficher-demander-malg-editor',
        '(Afficher (Demander))');
    inject_microalg_editor_in('afficher-demander', {localStorage: false, hidden: true});
    </script>
    <p>En combinant les commandes <code>Demander</code>,
    <code>Concatener</code> et <code>Afficher</code>, nous allons pouvoir coder
    un premier programme (presque) intéressant : les salutations.</p>
    <p>Avant de l’exécuter, essayez de deviner ce que le programme va faire.</p>
    <div id="salutations-blockly"></div>
    <div id="salutations"></div>
    <script>
    inject_microalg_blockly_in('salutations-blockly',
                               'salutations-malg-editor',
        '(Afficher (Concatener\n' +
        '             "Bonjour "\n' +
        '             (Demander)\n' +
        '             " !"\n' +
        '))');
    inject_microalg_editor_in('salutations', {localStorage: false, hidden: true});
    </script>
    <p>Mieux : les présentations !</p>
    <p>Ici, nous effectuons deux affichages successifs.
    <div id="presentations-blockly"></div>
    <div id="presentations"></div>
    <script>
    inject_microalg_blockly_in('presentations-blockly',
                               'presentations-malg-editor',
        '(Afficher "Bonjour, quel est ton nom ?")\n' +
        '(Afficher (Concatener\n' +
        '             "Bonjour "\n' +
        '             (Demander)\n' +
        '             " !"\n' +
        '          )\n' +
        ')');
    inject_microalg_editor_in('presentations', {localStorage: false, hidden: true});
    </script>
    <p>Voici, une démonstration que l’exécution se fait bien de haut en bas :</p>
    <div id="gauche-droite-blockly"></div>
    <div id="gauche-droite"></div>
    <script>
    inject_microalg_blockly_in('gauche-droite-blockly',
                               'gauche-droite-malg-editor',
        '(Afficher (Concatener\n' +
        '             (Concatener "d’abord " (Demander))\n' +
        '             (Concatener " ensuite " (Demander))\n' +
        '          )\n' +
        ')');
    inject_microalg_editor_in('gauche-droite', {localStorage: false, hidden: true});
    </script>

    <h2 id="calculs-nombres"><a href="#calculs-nombres">: </a>Calculs avec des nombres</h2>
    <p>MicroAlg sait effectuer des calculs. Il faut juste savoir que :</p>
    <ol><li>il n’y a un seul bloc pour les quatre opérations de base +, -, × et
        ÷ ;</li>
        <li>l’opération apparaît sur la gauche du bloc.</li>
    </ol>
    <p>Pour chaque exemple ci-dessous, essayer de deviner ce que va afficher
    MicroAlg, puis vérifier en cliquant sur <code>OK</code>.</p>
    <div id="script-aff-deux-et-deux-blockly"></div>
    <div id="script-aff-deux-et-deux"></div>
    <script>
    inject_microalg_blockly_in('script-aff-deux-et-deux-blockly',
                               'script-aff-deux-et-deux-malg-editor',
        '(Afficher (+ 2 2))');
    inject_microalg_editor_in('script-aff-deux-et-deux', {localStorage: false, hidden: true});
    </script>
    <br>
    <div id="script-emboite-blockly"></div>
    <div id="script-emboite"></div>
    <script>
    inject_microalg_blockly_in('script-emboite-blockly',
                               'script-emboite-malg-editor',
        '(!!! "Une expression peut prendre la place d’un nombre.")\n' +
        '(!!! "Ici le deuxième 2 a été remplacé par (+ 1 1) :")\n' +
        '(Afficher (+ 2 (+ 1 1)))');
    inject_microalg_editor_in('script-emboite', {localStorage: false, hidden: true});
    </script>
    <br>
    <div id="script-assoc-blockly"></div>
    <div id="script-assoc"></div>
    <script>
    inject_microalg_blockly_in('script-assoc-blockly',
                               'script-assoc-malg-editor',
        '(!!! "Pour effectuer 2+2+2, on peut faire, au choix :")\n' +
        '(Afficher (+ 2 (+ 2 2)))\n' +
        '(Afficher (+ (+ 2 2) 2))');
    inject_microalg_editor_in('script-assoc', {localStorage: false, hidden: true});
    </script>
    <p>Ce n’est pas très pratique. Quand vous saurez taper votre code sans les
    blocs, il suffira de taper : <code>(+ 2 2 2)</code>.</p>
    <p>Autres exemples avec <code>+</code>, <code>-</code>, <code>*</code> et
    <code>/</code> (papier crayon ou calculatrice autorisés si vous n’êtes pas
    fort en calcul mental).</p>
    <div id="script-calc1-blockly"></div>
    <div id="script-calc1"></div>
    <script>
    inject_microalg_blockly_in('script-calc1-blockly',
                               'script-calc1-malg-editor',
        '(Afficher (- 7 (+ 2 3)))');
    inject_microalg_editor_in('script-calc1', {localStorage: false, hidden: true});
    </script>
    <br>
    <div id="script-calc3-blockly"></div>
    <div id="script-calc3"></div>
    <script>
    inject_microalg_blockly_in('script-calc3-blockly',
                               'script-calc3-malg-editor',
        '(Afficher (+ 2 (* 5 3)))');
    inject_microalg_editor_in('script-calc3', {localStorage: false, hidden: true});
    </script>
    <div id="script-calc4-blockly"></div>
    <div id="script-calc4"></div>
    <script>
    inject_microalg_blockly_in('script-calc4-blockly',
                               'script-calc4-malg-editor',
        '(Afficher (/ 6 (+ 1 1)))');
    inject_microalg_editor_in('script-calc4', {localStorage: false, hidden: true});
    </script>

    <h2 id="calculs-nombres-demandes"><a href="#calculs-nombres-demandes">: </a>Calculs avec des nombres demandés à l’utilisateur</h2>
    <p>La commande <code>Demander</code> renvoie du texte, celui tapé par
    l’utilisateur. Mais les opérations <code>+</code>, <code>-</code>,
    <code>*</code> et <code>/</code> ne travaillent qu'avec des nombres et non
    avec du texte. Essayons avec l’exemple ci-dessous, en répondant par exemple
    « 1 » pour calculer « 1 + 1 » :</p>
    <div id="script-pas-nombre-blockly"></div>
    <div id="script-pas-nombre"></div>
    <script>
    inject_microalg_blockly_in('script-pas-nombre-blockly',
                               'script-pas-nombre-malg-editor',
        '(Afficher (+ 1 (Demander)))');
    inject_microalg_editor_in('script-pas-nombre', {localStorage: false, hidden: true});
    </script>
    </p>C'est la première fois que dans ce tutoriel nous évoquons cette
    distinction. On dira que :</p>
    <ul>
        <li><code>0</code>, <code>1</code> ou <code>2</code>… sont de
            <em>type</em> « nombre »</li>
        <li><code>"salut"</code> est de <em>type</em> « texte » ou « chaîne de
            caractères »</li>
    </ul>
    <p>Nous verrons d'autres types plus loin. Pour l'instant, nous avons les
    nouvelles commandes :</p>
    <ul>
        <li><code>Type</code> qui retourne un texte en minuscule décrivant le
        type de la valeur,</li>
        <li><code>Texte?</code> et <code>Nombre?</code>, qui nous
        permettent de savoir si une valeur est d’un certain type,</li>
        <li><code>Texte</code> et <code>Nombre</code>, qui renvoient une
        nouvelle valeur, convertie avec le bon type.</li>
    </ul>
    <div id="script-type-blockly"></div>
    <div id="script-type"></div>
    <script>
    inject_microalg_blockly_in('script-type-blockly',
                               'script-type-malg-editor',
        '(Afficher (Type "Bonjour !"))\n' +
        '(Afficher (Type 12345))\n' +
        '(Afficher "Veuillez taper n’importe quoi.")\n' +
        '(Afficher (Type (Demander)))\n' +
        '');
    inject_microalg_editor_in('script-type', {localStorage: false, hidden: true});
    </script>
    <div id="script-texte-blockly"></div>
    <div id="script-texte"></div>
    <script>
    inject_microalg_blockly_in('script-texte-blockly',
                               'script-texte-malg-editor',
        '(Afficher (Texte? "2"))\n' +
        '(Afficher (Texte? 2))\n' +
        '(Afficher (Texte? (Texte 2)))');
    inject_microalg_editor_in('script-texte', {localStorage: false, hidden: true});
    </script>
    <br>
    <div id="script-nombre-blockly"></div>
    <div id="script-nombre"></div>
    <script>
    inject_microalg_blockly_in('script-nombre-blockly',
                               'script-nombre-malg-editor',
        '(Afficher (Nombre? 2))\n' +
        '(Afficher (Nombre? "2"))\n' +
        '(Afficher (Nombre? (Nombre "2")))');
    inject_microalg_editor_in('script-nombre', {localStorage: false, hidden: true});
    </script>
    <p>Pour demander un nombre avec lequel faire un calcul, il faut donc
    utiliser une combinaison de <code>Demander</code> et de
    <code>Nombre</code>. En reprenant le premier exemple :</p>
    <div id="script-demander-nombre-blockly"></div>
    <div id="script-demander-nombre"></div>
    <script>
    inject_microalg_blockly_in('script-demander-nombre-blockly',
                               'script-demander-nombre-malg-editor',
        '(Afficher (+ 1 (Nombre (Demander))))');
    inject_microalg_editor_in('script-demander-nombre', {localStorage: false, hidden: true});
    </script>
    <p>Plus tard, vous pourrez vous-même créer une commande qui sera un
    raccourci pour cette combinaison de <code>Nombre</code> et de
    <code>Demander</code> : <code>DemanderNbre</code>.</p>
    <p>Pour finir cette section en beauté, voici un programme qui réutilise
    tout ce que l’on a appris jusqu’ici. Pourrez-vous deviner ce qu’il va
    afficher ?</p>
    <div id="script-incrementation-blockly"></div>
    <div id="script-incrementation"></div>
    <script>
    inject_microalg_blockly_in('script-incrementation-blockly',
                               'script-incrementation-malg-editor',
        '(Afficher (Concatener\n' +
        '              "Un de plus: "\n' +
        '              (Texte (+\n' +
        '                      1\n' +
        '                      (Nombre (Demander))\n' +
        '                     )\n' +
        '              )\n' +
        '))');
    inject_microalg_editor_in('script-incrementation', {localStorage: false, hidden: true});
    </script>
    <p><strong>Rappel</strong> : l’exécution se fait de l’intérieur vers
    l’extérieur, et si les blocs sont au même niveau, de haut en bas. Voici
    donc ce que fait ce petit programme, dans l’ordre d’exécution :</p>
    <ol>
        <li>demander une valeur à l’utilisateur,</li>
        <li>convertir le texte reçu en nombre,</li>
        <li>ajouter 1,</li>
        <li>convertir le résultat en texte,</li>
        <li>le concaténer avec le début de la phrase.</li>
    </ol>
    <p>Pour résumer en une phrase : « le programme affiche la concaténation
    de <code>"Un de plus: "</code> avec le texte correspondant à la somme de 1
    avec le nombre que l’utilisateur a tapé ».</p>

    <h2 id="taper-du-code"><a href="#taper-du-code">: </a>Taper du code</h2>
    <p>Bouger des blocs à la souris, c’est bien. Mais taper son code soi-même,
    c’est mieux.</p>
    <p>Ce que vous allez y perdre :</p>
    <ul>
        <li><strong>de l’assurance</strong> : au début vous serez un peu perdues
            car vous ne serez pas sûres de l’orthographe des commandes,
            de l’ordre dans lequel les disposer, des parenthèses… ;
        </li>
        <li><strong>de la vitesse</strong> : tant que vous ne saurez pas taper
            vite, taper du code vous semblera très long, il faut donc
            apprendre à taper !!!
        </li>
    </ul>
    <p>Ce que vous allez y gagner :</p>
    <ul>
        <li><strong>de l’assurance</strong> : vous serez tellement heureux quand
            vous aurez franchi ce cap, que vous y prendrez goût et ne reviendrez
            jamais aux blocs ;
        </li>
        <li><strong>de la vitesse</strong> : comme vous allez apprendre à taper,
            peut-être même en <a href="http://bepo.fr">Bépo</a>, vous serez bien
            plus rapide en laissant la souris tranquille (et votre corps vous
            remerciera) ;
        </li>
        <li><strong>de la souplesse</strong> : vous pourrez présenter votre
            code comme il vous plaira, passer à la ligne au meilleur moment
            pour transformer votre programme en œuvre d’art. Finie la peinture
            par numéros, à vous les pinceaux !!!
        </li>
        <li><strong>des neurones</strong> : l’effort fourni vous permettra
            de devenir mentalement plus solide ;
        </li>
        <li><strong>des fichiers</strong> : les blocs sont pour l’instant
            réservés au travail sur navigateur. Passer au code vous permettra
            <a href="https://github.com/Microalg/Microalg/blob/latest/INSTALL.md">d’installer MicroAlg</a>
            sur votre machine et de travailler avec des fichiers ;
        </li>
    </ul>
    <p>Quand vous passerez au code, le travail avec les blocs ne doit pas être
    oublié. La forme des pièces indique :</p>
    <ul>
        <li>si l’instruction peut être utilisée sans être imbriquée dans une
            autre ;</li>
        <li>si elle a besoin d’arguments ;</li>
        <li>et si oui, de combien ;</li>
        <li>si elle retourne une valeur ;</li>
        <li>…</li>
    </ul>

    <h2 id="fin">Fin</h2>
    <p>Ce tutoriel est en cours de rédaction (tous les blocs ne sont pas codés :
    appel à contribution !).</p>
    <p>Il est temps de toutes façons de lacher la souris et de taper
    directement du code ! Pour cela, voir les
    <a href="#autres-tutos">autres tutoriels</a>.</p>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <script>
        $().showUp('.navbar', {
            upClass: 'navbar-show',
            downClass: 'navbar-hide'
        });
    </script>
</body>
</html>
