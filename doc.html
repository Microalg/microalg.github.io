<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Doc - MicroAlg</title>
        <meta name="description"
              content="Tutoriel en ligne pour MicroAlg." />
        <meta name="keywords" content="microalg, algo, algorithme, algorithmique, lisp, environnement" />
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script src="web/showdown.js"></script>
        <script src="web/showup.js"></script>
        <link type="text/css" href="web/showup.css" rel="stylesheet" />
        <script src="emulisp/emulisp_core.js" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="web/style.css" />
    </head>
    <body class="microalg">
        <div class="navbar">
            <a href="./">Accueil</a> :
            <a href="#top">Haut de page</a>
        </div>
        <noscript>
            <div style="color:#CC0000; text-align:center">
            Besoin de Javascript pour afficher certaines listes.
            </div>
        </noscript>
        <script>EMULISP_CORE.loadLisp("microalg.l");</script>
        <script type="text/markdown">
<!--
<a name="top"></a>

# MicroAlg - Documentation

Aller directement à :

* [Installation](#installation)
* [Pourquoi MicroAlg](#pourquoimicroalg)
* [Syntaxe](#syntaxe)
* [Liste des symboles prédéfinis](#listedessymbolesprdfinis)
* [Types](#types)
* [Feuille de route](#feuillederoute)
* [Contribuer](#contribuer)
* [Architecture](#architecture)
* [Remerciements](#remerciements)

## Avertissement

Que vous soyez débutant ou expert en informatique ou même en programmation,
cette page n’est pas idéale pour apprendre à utiliser MicroAlg. Voir plutôt le
[tutoriel officiel](tuto.html).

## Installation

Voir le fichier [INSTALL.md](https://github.com/Microalg/Microalg/blob/latest/INSTALL.md).

## Pourquoi MicroAlg ?

Suite à une formation suivie pour enseigner ISN, j’ai décidé vers le printemps
2012 de me lancer dans un outil pédagogique pour l’algorithmique. Après deux ans
de profonde réflexion puis de maturation en tiroir, le
[dépôt GitHub](https://github.com/Microalg/Microalg), sorte de quartier général
du projet, est créé fin mars 2014. Suivront :

* le [site officiel](http://microalg.info) et
  [son dépôt](https://github.com/Microalg/microalg.github.io),
* le [compte Twitter](https://twitter.com/microalg).

Au départ prévu pour être embarqué dans le langage Tcl, il a finalement été
embarqué dans PicoLisp.

## Caractéristiques principales

MicroAlg se veut :

* **Minimale** : MicroAlg ne se veut pas puissante mais pédagogique.
    * **Peu d’instructions** sont disponibles dans le cœur du langage, elle est
      donc **plus simple à apprendre**.
    * Elle ne comporte **pas toute une batterie de commandes sophistiquées**. Si
      l’utilisateur a besoin d’autre chose, il doit l’**implémenter lui-même**.
    * Il n’y a **pas de bibliothèque standard**, donc il faut **se constituer sa
      propre boîte à outils**. Cela permet d’apprécier celle offerte par les
      « vrais » langages.
* **Simple à installer** : MicroAlg veut faciliter la vie des maîtres et des
  disciples.
    * Elle est utilisable directement **dans un navigateur**.
    * L’installation est **portable**, on peut l’emmener avec soi.
* **Bidouillable** : MicroAlg veut s’interfacer avec d’autres systèmes.
    * Elle est **connectée à des outils** : de codage graphique, de
      visualisation d’exécution ou de résultats…
    * Elle est **insérable** facilement dans une page web ou tout autre système
      via Javascript, Java, ou C.

## Syntaxe

### Instructions

* Un *programme* est constitué d’une ou plusieurs *instructions*.
* Une *instruction* est constituée de parenthèses, contenant une *commande* et
  ses *arguments* :  
  `(Commande arg1 arg2 ...)`
* C’est absolument universel dans MicroAlg. Même les commentaires sont de cette
  forme :  
  `(!!! "Ceci est un commentaire")`
* Si une *commande* ne prend pas d’*argument*, on écrira simplement :  
`(Commande)`
* Les *instructions* peuvent être imbriquées. En effet, dans une *instruction*,
  un des *arguments* d’une *commande* peut être remplacé par une autre
  *instruction* :
  `(Commande2 (Commande1 arg1 arg2 ...) arg3 ...)`  
  Dans ce cas, c’est la commande qui est à l’intérieur qui est exécutée en
  premier.

### Symboles

À part les **parenthèses**, les **nombres** (le séparateur est le `.`) et les
**textes** (délimités par des `"`), le langage comporte des symboles. Ils sont
organisés comme ceci :

* symboles
    * commandes
        * prédéfinies
            * flot (`Si`, `Tant_que`…)
            * structures de données (`Liste`…)
            * autres (`Afficher`, `Concatener`…)
        * définies par l’utilisateur
    * mots-clefs
        * intermédiaires (`Alors`, `Sinon`…)
        * autres (`Vrai`, `Faux`, `Rien`…)

### Conventions

Le nom d’une commande :

* ne contient pas d’accent ;
* commence par une majuscule ;
* le « tiret du 8 » ou « underscore » (`_`) en sépare les mots ;
* se termine par `?` si la commande retourne un booléen.

## Liste des symboles prédéfinis

Cette section est générée directement à partir du fichier `microalg.l`, que
vous pouvez trouver [ici](microalg.l).

Aller directement à :

<div id="cmds"></div>

## Types

En cours de rédaction.

On trouvera :

* [booléen](#boolen),
* [nombre](#nombre),
* [texte](#texte),
* [liste](#liste),
* [commande](#commande).

### Booléen

Deux valeurs : `Vrai` ou `Faux`.

### Nombre

Les nombres de MicroAlg sont ceux de Picolisp.

* Les entiers sont arbitrairement grands, positifs ou négatifs.
    * [Documentation Picolisp](http://software-lab.de/doc/ref.html#number)
      (en anglais)
* Les décimaux sont à [virgule fixe](http://fr.wikipedia.org/wiki/Virgule_fixe).
    * Le séparateur décimal est `.`.
    * L’échelle est `*Scl`. <!-- TODO: http://pastebin.com/A6tPQNqT -->
    * [Documentation Picolisp](http://software-lab.de/doc/ref.html#num-io)
      (en anglais)

### Texte

Délimités par des guillemets doubles : `"salut"`.

* [Documentation Picolisp](http://software-lab.de/doc/ref.html#transient)
  (en anglais)
* [Documentation Picolisp](http://software-lab.de/doc/ref.html#transient-io)
  (en anglais)

### Liste

En cours de rédaction.

### Commande

En cours de rédaction.

# Feuille de route

Voici les directions que le projet va prendre :

* Finir d’implémenter le jeu d’instructions de base
    * et les tests bien sûr
    * faire évoluer [le tutoriel](tuto.html) en parallèle
    * jusqu’à ce que MicroAlg soit [complet au sens de Turing](http://fr.wikipedia.org/wiki/Turing-complet)
* Implémenter une [machine de Turing](http://fr.wikipedia.org/wiki/Machine_de_Turing)
    * en détaillant le procédé
    * en détaillant le résultat (pédagogie, toujours la pédagogie…)
* Intégrer [Blockly](https://blockly-demo.appspot.com/static/apps/index.html)
  dans la version web
* Implémenter [une tortue](http://profgra.org/lycee/memento_des_tortues.html)
    * en restant dans l’esprit du jeu d’instructions minimal :
        * BC, LC
        * AV,
        * TG (laisser l’utilisateur implémenter TD)
    * dans au moins deux des trois versions de MicroAlg :
        * web d’abord
        * Java ensuite

À un niveau moins général, des rapports de bugs ou idées d’amélioration sont
régulièrement [reportées sur Github](https://github.com/Microalg/Microalg/issues?state=open).

# Contribuer

Toutes les bonnes volontés sont les bienvenues pour contribuer à MicroAlg. Il
y aura de la place pour tout le monde. Voici une liste non exhaustive suivant
les compétences techniques au autres du contributeur :

* **aucune compétence** :
    * lire, installer, tester, et rapporter des bugs ou des suggestions ;
    * versions web, Windows, Android, iOS, Mac…
* compétences en **pédagogie** (en maths, en algorithmique, en informatique ou
  même en général) :
    * lire et tester les tutoriels ;
    * critiquer le langage ;
    * critiquer les interfaces ;
    * créer des tutoriels ;
* compétences en **communication**, **marketing**, ou juste un gros réseau :
    * buzzer le projet ;
* compétences en **orthographe**, **expression ecrite** :
    * relire et corriger les fautes, trouver de meilleures formulations ;
    * travailler sur le [tutoriel simple](tuto_simple.html) ;
* compétences **pédagogiques** :
    * retravailler les tutoriels ;
    * écrire d’autres tutoriels, par exemple pour détailler un sujet précis ;
* compétences en **visuels numériques**, **HTML/CSS** :
    * travailler sur l’apparence du site ;
* compétences en **développement** (Java, Javascript, jQuery, PicoLisp…) :
    * améliorer l’interface web ;
    * applis Android ou iOS, installateurs pour Mac ou PC ;
    * construire de nouvelles interfaces, par exemple avec GeoGebra ;
    * travailler sur le cœur du projet (émettre des messages d’erreur
      compréhensibles et « actionnables » pour l’utilisateur) ;

Pour cela, il y a plusieurs méthodes :

* proposer une « pull request » en éditant directement
  [un fichier sur Github](https://github.com/Microalg/Microalg), ou après avoir
  cloné le dépôt ;
* [poster une « issue » sur Github](https://github.com/Microalg/Microalg/issues/new) ;
* poser une question dans [la section Questions/Réponses](http://qr.microalg.info) ;
* m’envoyer un [mail](mailto:profgra.org@gmail.com).

# Architecture

Cette section explique les relations entre les différents composants de
MicroAlg et les composants sur lequels elle repose.

MicroAlg est un langage embarqué dans un langage de type
[Lisp](http://fr.wikipedia.org/wiki/Lisp), [PicoLisp](http://picolisp.com/).
Ce dernier est implémenté au moins avec trois langages, C+ASM, Java et
Javascript.

* En C+ASM, c’est la version dite *officielle*
  d’[Alexander Burger](http://software-lab.de/).
* En Java, c’est l’implémentation nommée Ersatz et réalisée par le créateur de
  PicoLisp lui-même.
* En Javascript, c’est l’implémentation nommée EmuLisp, réalisée par
  [Jon Kleiser](http://folk.uio.no/jkleiser/), dont je suis quasiment le seul
  utilisateur, et que je maintiens dans un
  [dépôt semi-officiel](https://github.com/grahack/emulisp).

Chaque implémentation posséde un programme principal, nommés respectivement
`pil`, `pilj` et `piljs`. Ces programmes ont deux missions :

* lancés sans argument, ils offrent un interpréteur interactif,
* lancés avec un nom de fichier en argument, ils interprètent ce fichier et
  passent en mode interactif, sauf si on les arrête avant.

Attention, `pilj` n’est pas le nom officiel de l’exécutable d’Ersatz (c’est
`pil`). De plus, les versions officielles et semi-officielles d’EmuLisp n’ont
pas de `piljs`. `piljs` n’existe (pour l’instant) que dans MicroAlg.

MicroAlg offre donc naturellement les programmes `malg`, `malgj` et `malgjs`.
Ils ont les mêmes missions que leurs homologues, la seule différence est qu’ils
chargent `microalg.l`, le cœur du projet MicroAlg, où les commandes du langage
sont définies.

![Diagramme d’architecture](visuels/archi.svg)

**Légende**

* MACHINE : l’ordinateur, le smartphone, la tablette, la machine virtuelle…
* JVM : pour [Java Virtual Machine](http://fr.wikipedia.org/wiki/Machine_virtuelle_Java),
  exécute du byte-code Java
* NodeJS : plateforme permettant d’interpréter du code Javascript
  (voir [l’article Wikipedia](http://fr.wikipedia.org/wiki/Nodejs))
* browser : le navigateur (Internet) installé sur la MACHINE
* PicoLisp : la version officielle du langage hôte, PicoLisp
* Ersatz : implémentation en Java de PicoLisp
* EmuLisp : implémentation en Javascript de PicoLisp
* `pil`, `pilj` et `piljs` : les interpréteurs des implémentations de PicoLisp
* `microalg.l` : le fichier définissant le langage MicroAlg
* `malg`, `malgj` et `malgjs` : les interpréteurs de MicroAlg,
  correspondants aux implémentations de PicoLisp
* web IDE : interface permettant de manipuler MicroAlg depuis un navigateur

# Remerciements

Relecteurs, testeurs et commentateurs :

* [Charlotte Truchet](http://www.normalesup.org/~truchet/)
* le groupe « **Utilisation des langages fonctionnels dans l’enseignement** » de
  [l’IREM de Nantes](http://www.irem.sciences.univ-nantes.fr/recherche/recherche2013-2014.html)
* Quentin S.
* Clément G. (8 ans au moment du test)
* [Nathann Cohen](https://www.lri.fr/membre.php?mb=1727)
* quelques collègues des listes **SIO Maths** et **IDE Gest**
* Samuel B.
* Jéjé

Modèles et contre-modèles :

* **Logo** &mdash; [article Wikipedia](http://fr.wikipedia.org/wiki/Logo_%28langage%29)
* **Scratch** &mdash; [article Wikipedia](http://fr.wikipedia.org/wiki/Scratch_%28langage%29)
* **Algobox**, par Pascal Brachet &mdash; [site officiel](http://www.xm1math.net/algobox/)
* **Java’s Cool** &mdash; [site officiel](http://javascool.gforge.inria.fr)
* **Blockly** &mdash; [page expliquant certaines décisions](https://code.google.com/p/blockly/wiki/Language)
* **PicoLisp**, par Alexander Burger &mdash; [site officiel](http://picolisp.com)
* **Scheme**, par Sussman et Steele &mdash;
  [article Wikipedia](http://fr.wikipedia.org/wiki/Scheme)
* **SICP**, par Abelson et Sussman &mdash;
  [article Wikipedia](http://en.wikipedia.org/wiki/Structure_and_Interpretation_of_Computer_Programs)
  (en anglais)
* **Arc**, par [Paul Graham](http://fr.wikipedia.org/wiki/Paul_Graham) &mdash;
  [site officiel](http://arclanguage.org/)

Bases techniques et bibliothèques :

* **Picolisp** et **Ersatz**, par Alexander Burger &mdash; [site officiel](http://picolisp.com)
* **Emulisp**, par Jon Kleiser &mdash; [GitHub](https://github.com/Grahack/EmuLisp)
* **jQuery**, par John Resig et la communauté &mdash; [site officiel](http://jquery.com/)
* **jQuery-term**, par Jakub T. Jankiewicz &mdash; [site officiel](http://terminal.jcubic.pl/)
* **parenedit**, &mdash; [basé sur cette réponse](http://stackoverflow.com/questions/14043727/auto-resizing-textarea-is-bumpy-highlighting-parentheses)
* **Blockly**, par Neil Fraser et la communauté &mdash; [site officiel](http://code.google.com/p/blockly/)

[Cette algue](http://fr.wikipedia.org/wiki/Chlamydomonas_reinhardtii) a, sans
le savoir, contribué à donner à ce projet un nom digne de ce nom.

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
-->
        </script>
        <script>
        var scripts = document.getElementsByTagName('script');
        for (var i = 0; i < scripts.length; i++){
            var script = scripts[i];
            if (script.type != 'text/markdown') continue;
            var md = script.innerHTML.replace(/^\s<!--*/, '')
                .replace(/-->\s*$/, '');
            var markup = new Showdown.converter().makeHtml(md);
            document.write(markup);
        }
        </script>
        <script>
            var cmds_as_list = EMULISP_CORE.eval("symboles").toString();
            var cmds_as_strings = cmds_as_list
                .slice(1, -1)
                .split(' ')
                .map(function (x) {return x.slice(1, -1);});
            // TOC
            var toc = $('<div/>').addClass('cmds-list toc').appendTo($('#cmds'));
            $.each(cmds_as_strings, function(i, cmd) {
                var span = $('<span/>').appendTo(toc);
                var code = $('<code/>').appendTo(span);
                $("<a/>").attr("href", "#cmd-" + cmd)
                    .attr("title", "Voir la doc de la commande " + cmd)
                    .html(cmd)
                    .appendTo(code);
                span.html((i==0? "" : " ") + span.html());
            });
            // Defs
            var defs = $('<div/>').addClass('cmds-list defs').appendTo($('#cmds'));
            var dl = $('<dl/>').addClass('cmds-list').appendTo(defs);
            $.each(cmds_as_strings, function(i, cmd) {
                $('<a/>').attr("name", "cmd-" + cmd).appendTo(dl);
                $('<dt/>').html(cmd).appendTo(dl);
                var cmd_doc = EMULISP_CORE.eval("(get '" + cmd + " 'doc)");
                cmd_doc = cmd_doc.replace(/\^J/g,'\n');  // PicoLisp control char
                if (cmd_doc.charAt(0) == '"' && cmd_doc.charAt(cmd_doc.length-1) == '"') {
                    cmd_doc = cmd_doc.slice(1, -1);      // remove enclosing quotes
                }
                cmd_doc = new Showdown.converter().makeHtml(cmd_doc);
                $("<dd/>").html(cmd_doc).appendTo(dl);
                // corps fonction $("<dd/>").html(lisp_cmd.props.car.car.name).appendTo(dl);
            });
        </script>
        <script>
            $().showUp('.navbar', {
                upClass: 'navbar-show',
                downClass: 'navbar-hide'
            });
        </script>
    </body>
</html>
